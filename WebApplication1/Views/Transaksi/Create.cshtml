@model pos.BLL.DTO.TransactionCreateDTO

@{
    ViewData["Title"] = "Create";
}

<div class="row">
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Payment</h1>
    </div>

    <div class="col-lg-12">
        <!-- Basic Card Example -->
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">Add Menu</h6>
            </div>
            <div class="card-body">
                @Html.Raw(ViewData["message"])
                <form method="post" action="Create">
                    <div class="form-group">
                        <label for="nama_menu">Menu Name:</label>
                        <select class="form-control" name="id_menu">
                            <option value="">-- Select Menu --</option>
                            @foreach (var menu in ViewBag.listMenu)
                            {
                                <option value="@menu.Value">@menu.Text</option>
                            }
                        </select>
                    </div>
@*                     <div class="form-group">
                        <label for="harga_menu">Menu Price:</label>
                        <input type="text" class="form-control" name="harga_menu"
                               placeholder="Insert Harga Menu" readonly />
                    </div>  *@
                    <div class="form-group">
                        <label for="nama_pelanggan">Customer Name:</label>
                        <input type="text" class="form-control" name="nama_pelanggan"
                               placeholder="Insert Customer Name" />
                    </div>
                    <div class="form-group">
                        <label for="jumlah_pesanan">Quantity:</label>
                        <input type="number" class="form-control" name="jumlah_pesanan"
                               placeholder="Insert Quantity" />
                    </div>
                    <div class="form-group">
                        <label for="amount">Amount:</label>
                        <input type="text" class="form-control" name="amount"
                               placeholder="Insert Amount" />
                    </div>
                    <div class="form-group">
                        <label for="amount">No Meja:</label>
                        <input type="text" class="form-control" name="id_meja"
                               placeholder="Insert No Meja" />
                    </div>
                    <button type="submit" class="btn btn-success btn-sm">Submit</button>
                </form>
            </div>
        </div>
    </div>
</div>
@* <script>
    $(document).ready(function () {
        // Ketika pilihan menu berubah
        $('select[name="id_menu"]').change(function () {
            var selectedMenuId = $(this).val();

            // Kirim permintaan AJAX untuk mendapatkan harga_menu berdasarkan id_menu yang dipilih
            $.ajax({
                url: '/TransaksiController/GetMenuPrice', // Ganti YourControllerName dengan nama controller Anda
                type: 'GET',
                data: { id_menu: selectedMenuId },
                success: function (response) {
                    // Mengatur nilai input harga_menu dengan harga yang diterima dari server
                    $('input[name="harga_menu"]').val(response.price);
                },
                error: function () {
                    console.log('Error fetching menu price');
                }
            });
        });
    });
</script> *@
@* <script>
    $(document).ready(function () {
        // Ketika pilihan menu berubah
        $('#id_menu').change(function () {
            var selectedMenu = $(this).find(':selected');
            var hargaMenu = selectedMenu.data('harga');

            // Mengatur nilai input harga_menu dengan harga yang ditemukan
            $('input[name="harga_menu"]').val(hargaMenu);
        });
    });
</script> *@






